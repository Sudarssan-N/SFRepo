<template>
    <lightning-card title="SSE Messages">
        <div class="slds-p-around_medium">
            <lightning-button variant="brand" label="Start Listening" onclick={startListening} disabled={isListening}></lightning-button>
            <lightning-button variant="destructive" label="Stop Listening" onclick={stopListening} disabled={isNotListening}></lightning-button>
            <template if:true={messages}>
                <ul>
                    <template for:each={messages} for:item="message">
                        <li key={message.id}>
                            <strong>{message.id}</strong>: {message.value} at {message.timestamp}
                        </li>
                    </template>
                </ul>
            </template>
            <template if:false={messages}>
                <p>No messages received yet.</p>
            </template>
        </div>
    </lightning-card>
</template>
